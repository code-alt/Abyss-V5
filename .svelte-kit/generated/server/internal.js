
import root from '../root.svelte';
import { set_building } from '__sveltekit/environment';
import { set_assets } from '__sveltekit/paths';
import { set_private_env, set_public_env } from '../../../node_modules/.pnpm/@sveltejs+kit@1.24.0_svelte@4.2.0_vite@4.4.9/node_modules/@sveltejs/kit/src/runtime/shared-server.js';

export const options = {
	app_template_contains_nonce: false,
	csp: {"mode":"auto","directives":{"upgrade-insecure-requests":false,"block-all-mixed-content":false},"reportOnly":{"upgrade-insecure-requests":false,"block-all-mixed-content":false}},
	csrf_check_origin: true,
	track_server_fetches: false,
	embedded: false,
	env_public_prefix: 'PUBLIC_',
	env_private_prefix: '',
	hooks: null, // added lazily, via `get_hooks`
	preload_strategy: "modulepreload",
	root,
	service_worker: false,
	templates: {
		app: ({ head, body, assets, nonce, env }) => "<!DOCTYPE html>\n<html lang=\"en\">\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<link rel=\"icon\" href=\"" + assets + "/favicon.png\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width\" />\n\t\t<meta\n\t\t\tname=\"description\"\n\t\t\tcontent=\"Abyss is the best and most modern proxy to avoid modern censorship.\"\n\t\t/>\n\t\t<title>Abyss</title>\n\t\t<link rel=\"stylesheet\" id=\"default-theme\" href=\"/assets/themes/main.css\" />\n\t\t<script>\n\t\t\t/* eslint-disable @typescript-eslint/no-this-alias */\n\t\t\t// OP TAB SYSTEM V2.0.0\n\n\t\t\t// CREDITS:\n\t\t\t// Code-Alt - Main Developer\n\n\t\t\t// LICENSE:\n\t\t\t/*\n\n\t\t\tCopyright (c) 2023 Code-Alt\n\t\t\t\n\t\t\tPermission is hereby granted, free of charge, to any person obtaining a copy\n\t\t\tof this software and associated documentation files (the \"Software\"), to deal\n\t\t\tin the Software without restriction, including without limitation the rights\n\t\t\tto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n\t\t\tcopies of the Software, and to permit persons to whom the Software is\n\t\t\tfurnished to do so, subject to the following conditions:\n\n\t\t\tThe above copyright notice and this permission notice shall be included in\n\t\t\tall copies or substantial portions of the Software.\n\n\t\t\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\t\t\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\t\t\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\t\t\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\t\t\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\t\t\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n\t\t\tTHE SOFTWARE.\n\n*/\n\n\t\t\t// DOCS:\n\n\t\t\t// here are some prerequisites:\n\t\t\t// you must have a tab container, a btn container, a tab template, and a btn template, and a search bar.\n\t\t\t// btw this might be hard to set up, set up your own classes and CSS until you find it satisfactory.\n\n\t\t\t// new TabSystem() - Initializes the TabSystem class, used for holding all the information about the tab system, and it's functions.\n\t\t\t// TabSystem.addTab(tab) - Adds a tab to the tab system. Returns the tab.\n\t\t\t// TabSystem.getTabTemplate() - Returns the tab template.\n\t\t\t// TabSystem.getBtnTemplate() - Returns the tab button template.\n\t\t\t// TabSystem.createTabBtn(id) - Creates a tab button with the specified id. Returns the tab button.\n\t\t\t// TabSystem.createTabFrame(id) - Creates a tab frame with the specified id. Returns the tab frame.\n\t\t\t// TabSystem.setActiveTab(tab) - Sets the active tab to the specified tab.\n\t\t\t// TabSystem.getActiveTab() - Returns the active tab.\n\t\t\t// TabSystem.getTabs() - Returns all tabs.\n\t\t\t// TabSystem.getTabCount() - Returns the amount of tabs.\n\t\t\t// TabSystem.genRanId() - Generates a random id. Returns the id.\n\t\t\t// TabSystem.deleteTab(tab, force) - Deletes the specified tab. If force is true, it will delete the tab even if it's the last tab.\n\t\t\t// TabSystem.deleteTabs(tabs, force) - Deletes the specified tabs. If force is true, it will delete the tabs even if it's the last tab.\n\t\t\t// TabSystem.deleteAllTabs() - Deletes all tabs.\n\t\t\t// TabSystem.deleteAllTabsExcept(tab) - Deletes all tabs except the specified tab.\n\t\t\t// TabSystem.deleteAllTabsExceptThese(tabs) - Deletes all tabs except the specified tabs.\n\t\t\t// new Tab() - Initializes the Tab class, used for holding all the information about the tab frame and the button used to activate it.\n\t\t\t// Tab.getConnectedElement() - Returns the connected element.\n\t\t\t// Tab.getTabElement() - Returns the tab element.\n\t\t\t// Tab.setTabElement(tabElement) - Sets the tab element.\n\t\t\t// Tab.setConnectedElement(connectedElement) - Sets the connected element.\n\n\t\t\tvar dp = 'Starting Page';\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t\t\tvar conf = {};\n\t\t\tvar mainTS;\n\t\t\tvar _OPTabSys_callbacks = {\n\t\t\t\ttabChange: [],\n\t\t\t\ttabAdd: [],\n\t\t\t\ttabDelete: []\n\t\t\t};\n\n\t\t\tclass TabSystem {\n\t\t\t\tconstructor(object) {\n\t\t\t\t\tthis.config = {\n\t\t\t\t\t\ttabContainer: object.tabContainer || document.getElementById('tabContainer'),\n\t\t\t\t\t\ttabTemplate: object.tabTemplate || document.getElementById('tabTemplate'),\n\t\t\t\t\t\tbtnTemplate: object.btnTemplate || document.getElementById('btnTemplate'),\n\t\t\t\t\t\ttabBtnContainer: object.tabBtnContainer || document.getElementById('tabBtnContainer'),\n\t\t\t\t\t\tURLBar: object.URLBar || document.getElementById('adrbar'),\n\t\t\t\t\t\ttabActiveColor: object.tabActiveColor || '#484848',\n\t\t\t\t\t\ttabInactiveColor: object.tabInactiveColor || '#444444d2',\n\t\t\t\t\t\tdefaultPlaceholder: object.defaultPlaceholder || 'Starting Page',\n\t\t\t\t\t\tclosePlaceholder: object.closePlaceholder || 'No tab open'\n\t\t\t\t\t};\n\t\t\t\t\tconf = this.config;\n\t\t\t\t\tdp = this.config.defaultPlaceholder;\n\t\t\t\t\tthis.tabs = [];\n\t\t\t\t\tthis.tabCount = 0;\n\t\t\t\t\tthis.activeTab = null;\n\t\t\t\t\tthis.config.tabTemplate.style.display = 'none';\n\t\t\t\t\tthis.config.btnTemplate.style.display = 'none';\n\t\t\t\t\tmainTS = this;\n\t\t\t\t}\n\n\t\t\t\ton(event, callback) {\n\t\t\t\t\tswitch (event) {\n\t\t\t\t\t\tcase 'tabChange':\n\t\t\t\t\t\t\tif (_OPTabSys_callbacks == null) _OPTabSys_callbacks = {};\n\t\t\t\t\t\t\tif (_OPTabSys_callbacks.tabChange == null) _OPTabSys_callbacks.tabChange = [];\n\t\t\t\t\t\t\t_OPTabSys_callbacks.tabChange.push(callback);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'tabAdd':\n\t\t\t\t\t\t\tif (_OPTabSys_callbacks == null) _OPTabSys_callbacks = {};\n\t\t\t\t\t\t\tif (_OPTabSys_callbacks.tabAdd == null) _OPTabSys_callbacks.tabAdd = [];\n\t\t\t\t\t\t\t_OPTabSys_callbacks.tabAdd.push(callback);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'tabDelete':\n\t\t\t\t\t\t\tif (_OPTabSys_callbacks == null) _OPTabSys_callbacks = {};\n\t\t\t\t\t\t\tif (_OPTabSys_callbacks.tabDelete == null) _OPTabSys_callbacks.tabDelete = [];\n\t\t\t\t\t\t\t_OPTabSys_callbacks.tabDelete.push(callback);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn console.error('Invalid event!');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\taddTab(tab) {\n\t\t\t\t\tthis.tabs.push(tab);\n\t\t\t\t\tthis.tabCount++;\n\t\t\t\t\tif (_OPTabSys_callbacks != null) {\n\t\t\t\t\t\tif (_OPTabSys_callbacks.tabAdd != null) {\n\t\t\t\t\t\t\tfor (var i = 0; i < _OPTabSys_callbacks.tabAdd.length; i++) {\n\t\t\t\t\t\t\t\t_OPTabSys_callbacks.tabAdd[i](tab);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn tab;\n\t\t\t\t}\n\n\t\t\t\tgetTabTemplate() {\n\t\t\t\t\treturn this.config.tabTemplate;\n\t\t\t\t}\n\n\t\t\t\tgetBtnTemplate() {\n\t\t\t\t\treturn this.config.btnTemplate;\n\t\t\t\t}\n\n\t\t\t\tcreateTabBtn(id) {\n\t\t\t\t\tconst btn = this.getBtnTemplate().cloneNode(true);\n\t\t\t\t\tif (id == null) id = '';\n\t\t\t\t\tbtn.id = id;\n\t\t\t\t\tbtn.style = btn.style.toString().replace(/display:( )*none(;){0,1}/g, '');\n\t\t\t\t\tthis.config.tabBtnContainer.appendChild(btn);\n\t\t\t\t\treturn btn;\n\t\t\t\t}\n\n\t\t\t\tcreateTabFrame(id) {\n\t\t\t\t\tconst frame = this.getTabTemplate().cloneNode(true);\n\t\t\t\t\tif (id == null) id = '';\n\t\t\t\t\tframe.id = id;\n\t\t\t\t\tframe.style.display = 'none';\n\t\t\t\t\tthis.config.tabContainer.appendChild(frame);\n\t\t\t\t\treturn frame;\n\t\t\t\t}\n\n\t\t\t\tsetActiveTab(tab) {\n\t\t\t\t\tif (_OPTabSys_callbacks != null) {\n\t\t\t\t\t\tif (_OPTabSys_callbacks.tabChange != null) {\n\t\t\t\t\t\t\tfor (var i = 0; i < _OPTabSys_callbacks.tabChange.length; i++) {\n\t\t\t\t\t\t\t\t_OPTabSys_callbacks.tabChange[i](tab);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.tabs.includes(tab) && tab != null) {\n\t\t\t\t\t\tthis.addTab(tab);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.activeTab != null) {\n\t\t\t\t\t\tthis.activeTab.getConnectedElement().style.background = this.config.tabInactiveColor;\n\t\t\t\t\t\tthis.activeTab.setSearchBarContent(this.config.URLBar.value);\n\t\t\t\t\t\tthis.activeTab.setPlaceholder(this.config.URLBar.placeholder);\n\t\t\t\t\t}\n\t\t\t\t\tthis.config.URLBar.value = '';\n\t\t\t\t\tif (tab != null && tab.getSearchBarContent()) {\n\t\t\t\t\t\tthis.config.URLBar.value = tab.getSearchBarContent();\n\t\t\t\t\t}\n\t\t\t\t\tthis.activeTab = tab;\n\t\t\t\t\tif (tab != null && this.activeTab.getPlaceholder()) {\n\t\t\t\t\t\tthis.config.URLBar.placeholder = this.activeTab.getPlaceholder();\n\t\t\t\t\t}\n\t\t\t\t\tif (this.activeTab == null) {\n\t\t\t\t\t\tthis.config.URLBar.placeholder = this.config.closePlaceholder;\n\t\t\t\t\t}\n\t\t\t\t\tfor (var t = 0; t < this.tabs.length; t++) {\n\t\t\t\t\t\tif (this.tabs[t] == tab && tab != null) {\n\t\t\t\t\t\t\tif (this.tabs[t].tabElement != null) {\n\t\t\t\t\t\t\t\tthis.tabs[t].tabElement.style.display = 'initial';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.tabs[t].connectedElement != null) {\n\t\t\t\t\t\t\t\tthis.tabs[t].connectedElement.style.backgroundColor = this.config.tabActiveColor;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (this.tabs[t].tabElement != null && tab != null) {\n\t\t\t\t\t\t\t\tthis.tabs[t].tabElement.style.display = 'none';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.tabs[t].connectedElement != null && tab != null) {\n\t\t\t\t\t\t\t\tthis.tabs[t].connectedElement.style.backgroundColor = this.config.tabInactiveColor;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgetActiveTab() {\n\t\t\t\t\treturn this.activeTab;\n\t\t\t\t}\n\n\t\t\t\tgetTabs() {\n\t\t\t\t\treturn this.tabs;\n\t\t\t\t}\n\n\t\t\t\tgetTabCount() {\n\t\t\t\t\treturn this.tabCount;\n\t\t\t\t}\n\n\t\t\t\tgenRanId() {\n\t\t\t\t\treturn Date.now() + Math.floor(Math.random() * 1000000000);\n\t\t\t\t}\n\n\t\t\t\tdeleteTab(tab, force) {\n\t\t\t\t\tfor (var i = 0; i < this.tabs.length; i++) {\n\t\t\t\t\t\tif (this.tabs[i] == tab) {\n\t\t\t\t\t\t\tif (this.tabs[i] == this.activeTab) {\n\t\t\t\t\t\t\t\tif (this.tabs[i - 1] != null) {\n\t\t\t\t\t\t\t\t\tthis.setActiveTab(this.tabs[i - 1]);\n\t\t\t\t\t\t\t\t} else if (this.tabs[i + 1] != null) {\n\t\t\t\t\t\t\t\t\tthis.setActiveTab(this.tabs[i + 1]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (force != true) {\n\t\t\t\t\t\t\t\t\t\treturn alert(\"You can't delete the last tab!\");\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.setActiveTab(null);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.tabs[i].connectedElement.remove();\n\t\t\t\t\t\t\tthis.tabs[i].tabElement.remove();\n\t\t\t\t\t\t\tthis.tabs.splice(i, 1);\n\t\t\t\t\t\t\tthis.tabCount--;\n\t\t\t\t\t\t\tif (_OPTabSys_callbacks != null) {\n\t\t\t\t\t\t\t\tif (_OPTabSys_callbacks.tabDelete != null) {\n\t\t\t\t\t\t\t\t\tfor (var tC = 0; tC < _OPTabSys_callbacks.tabDelete.length; tC++) {\n\t\t\t\t\t\t\t\t\t\t_OPTabSys_callbacks.tabDelete[tC](this.activeTab);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdeleteTabs(tabs) {\n\t\t\t\t\tconst tabsToDelete = tabs.slice();\n\t\t\t\t\tfor (let i = 0; i < tabsToDelete.length; i++) {\n\t\t\t\t\t\tconst tab = tabsToDelete[i];\n\t\t\t\t\t\tif (tab === this.activeTab) {\n\t\t\t\t\t\t\tif (this.tabs[i - 1]) {\n\t\t\t\t\t\t\t\tthis.setActiveTab(this.tabs[i - 1]);\n\t\t\t\t\t\t\t} else if (this.tabs[i + 1]) {\n\t\t\t\t\t\t\t\tthis.setActiveTab(this.tabs[i + 1]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setActiveTab(null);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttab.connectedElement.remove();\n\t\t\t\t\t\ttab.tabElement.remove();\n\t\t\t\t\t\tthis.tabs.splice(this.tabs.indexOf(tab), 1);\n\t\t\t\t\t\tthis.tabCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif (_OPTabSys_callbacks?.tabDelete) {\n\t\t\t\t\t\t_OPTabSys_callbacks.tabDelete.forEach((callback) => callback(this.activeTab));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdeleteAllTabs() {\n\t\t\t\t\tthis.deleteTabs(this.tabs);\n\t\t\t\t}\n\n\t\t\t\tdeleteAllTabsExcept(tab) {\n\t\t\t\t\tconst tabsToDelete = this.tabs.slice();\n\t\t\t\t\ttabsToDelete.splice(tabsToDelete.indexOf(tab), 1);\n\t\t\t\t\tthis.deleteTabs(tabsToDelete);\n\t\t\t\t}\n\n\t\t\t\tdeleteAllTabsExceptThese(tabs) {\n\t\t\t\t\tconst tabsToDelete = this.tabs.slice();\n\t\t\t\t\ttabsToDelete.forEach((tab) => {\n\t\t\t\t\t\tif (tabs.includes(tab)) {\n\t\t\t\t\t\t\ttabsToDelete.splice(tabsToDelete.indexOf(tab), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.deleteTabs(tabsToDelete);\n\t\t\t\t}\n\n\t\t\t\tgetConfig() {\n\t\t\t\t\treturn this.config;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tclass Tab {\n\t\t\t\tconstructor(connectedElement, tabFrame, searchBarContent, placeholder) {\n\t\t\t\t\tthis.connectedElement = connectedElement || mainTS.createTabBtn(mainTS.genRanId());\n\t\t\t\t\tthis.tabElement = tabFrame || mainTS.createTabFrame(mainTS.genRanId());\n\t\t\t\t\tif (searchBarContent == null) searchBarContent = '';\n\t\t\t\t\tthis.searchBarContent = searchBarContent;\n\t\t\t\t\tif (placeholder == null) placeholder = dp;\n\t\t\t\t\tthis.placeholder = placeholder;\n\t\t\t\t\tthis.connectedElement.addEventListener('click', () => {\n\t\t\t\t\t\tif (window.tryClose) {\n\t\t\t\t\t\t\tmainTS.deleteTab(this, window.allowForce);\n\t\t\t\t\t\t\twindow.tryClose = false;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmainTS.setActiveTab(this);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tgetConnectedElement() {\n\t\t\t\t\treturn this.connectedElement;\n\t\t\t\t}\n\n\t\t\t\tgetTabElement() {\n\t\t\t\t\treturn this.tabElement;\n\t\t\t\t}\n\n\t\t\t\tsetTabElement(tabElement) {\n\t\t\t\t\tthis.tabElement = tabElement;\n\t\t\t\t}\n\n\t\t\t\tsetConnectedElement(connectedElement) {\n\t\t\t\t\tthis.connectedElement = connectedElement;\n\t\t\t\t}\n\n\t\t\t\tsetSearchBarContent(searchBarContent) {\n\t\t\t\t\tthis.searchBarContent = searchBarContent;\n\t\t\t\t}\n\n\t\t\t\tgetSearchBarContent() {\n\t\t\t\t\treturn this.searchBarContent;\n\t\t\t\t}\n\n\t\t\t\tfindFirstIFrame() {\n\t\t\t\t\treturn this.tabElement.querySelector('iframe');\n\t\t\t\t}\n\n\t\t\t\thasIFrame() {\n\t\t\t\t\tif (this.findIFrame() != null) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsetPlaceholder(placeholder) {\n\t\t\t\t\tthis.placeholder = placeholder;\n\t\t\t\t}\n\n\t\t\t\tgetPlaceholder() {\n\t\t\t\t\treturn this.placeholder;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twindow.TabSystem = TabSystem;\n\t\t\twindow.Tab = Tab;\n\t\t\twindow.allowForce = true;\n\t\t</script>\n\t\t" + head + "\n\t</head>\n\t<body data-sveltekit-preload-data=\"hover\">\n\t\t<script>\n\t\t\tclass ThemeSystem {\n\t\t\t\tconstructor() {\n\t\t\t\t\tthis.config = {}; // is there even a need for this\n\t\t\t\t\tthis.themes = [];\n\t\t\t\t\tthis.themeCount = 0;\n\t\t\t\t\tthis.activeTheme = null;\n\t\t\t\t\tthis.lastTheme = null;\n\t\t\t\t}\n\n\t\t\t\tgetThemeFromName(name) {\n\t\t\t\t\tfor (let i = 0; i < this.themes.length; i++) {\n\t\t\t\t\t\tif (this.themes[i].getName() == name) {\n\t\t\t\t\t\t\treturn this.themes[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\taddTheme(theme) {\n\t\t\t\t\tfor (let i = 0; i < this.themes.length; i++) {\n\t\t\t\t\t\tif (this.themes[i].getName() == theme.getName()) {\n\t\t\t\t\t\t\tconsole.error('A theme with the name ' + theme.getName() + ' already exists!');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this.lastTheme != theme) {\n\t\t\t\t\t\tthis.themes.push(theme);\n\t\t\t\t\t\tthis.themeCount++;\n\t\t\t\t\t}\n\t\t\t\t\treturn theme;\n\t\t\t\t}\n\n\t\t\t\tsetActiveTheme(theme) {\n\t\t\t\t\tif (this.activeTheme != null) {\n\t\t\t\t\t\tthis.activeTheme.disable();\n\t\t\t\t\t}\n\t\t\t\t\tthis.activeTheme = theme;\n\t\t\t\t\tthis.activeTheme.apply();\n\t\t\t\t}\n\n\t\t\t\tgetActiveTheme() {\n\t\t\t\t\treturn this.activeTheme;\n\t\t\t\t}\n\n\t\t\t\tgetThemes() {\n\t\t\t\t\treturn this.themes;\n\t\t\t\t}\n\n\t\t\t\tgetThemeCount() {\n\t\t\t\t\treturn this.themeCount;\n\t\t\t\t}\n\n\t\t\t\tgenRanId() {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tMath.random().toString(36).substring(2, 15) +\n\t\t\t\t\t\tMath.random().toString(36).substring(2, 15)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tdeleteTheme(theme) {\n\t\t\t\t\tif (this.themeCount > 1 || force == true) {\n\t\t\t\t\t\tfor (let i = 0; i < this.themes.length; i++) {\n\t\t\t\t\t\t\tif (this.themes[i].id == theme.id) {\n\t\t\t\t\t\t\t\tthis.themes.splice(i, 1);\n\t\t\t\t\t\t\t\tthis.themeCount--;\n\t\t\t\t\t\t\t\tif (this.activeTheme.id == theme.id) {\n\t\t\t\t\t\t\t\t\tthis.setActiveTheme(this.themes[0]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdeleteThemes(themes) {\n\t\t\t\t\tif (this.themeCount > 1) {\n\t\t\t\t\t\tfor (let i = 0; i < themes.length; i++) {\n\t\t\t\t\t\t\tthis.deleteTheme(themes[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgenCSS(css) {\n\t\t\t\t\tvar style = document.createElement('style');\n\t\t\t\t\tstyle.innerHTML = css;\n\t\t\t\t\tstyle.disabled = true;\n\t\t\t\t\tdocument.head.appendChild(style);\n\t\t\t\t\treturn style;\n\t\t\t\t}\n\n\t\t\t\tgenCSSFile(url, enabled) {\n\t\t\t\t\tfor (let i = 0; i < this.themes.length; i++) {\n\t\t\t\t\t\tif (this.themes[i].getCSSElem() && this.themes[i].getCSSElem().href == url) {\n\t\t\t\t\t\t\tconsole.error('A theme with the url ' + url + ' already exists!');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar link = document.createElement('link');\n\t\t\t\t\tlink.rel = 'stylesheet';\n\t\t\t\t\tlink.href = url;\n\t\t\t\t\tdocument.head.appendChild(link);\n\t\t\t\t\tlink.disabled = true;\n\t\t\t\t\tif (enabled) link.disabled = false;\n\t\t\t\t\treturn link;\n\t\t\t\t}\n\n\t\t\t\tgetConfig() {\n\t\t\t\t\treturn this.config;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tclass Theme {\n\t\t\t\tconstructor(elem, name) {\n\t\t\t\t\tif (typeof elem == 'object') {\n\t\t\t\t\t\tthis.csselem = elem;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.url = elem;\n\t\t\t\t\t}\n\t\t\t\t\tthis.store = elem;\n\t\t\t\t\tthis.name = name;\n\t\t\t\t\t// check for a duplicate theme\n\t\t\t\t\tfor (let i = 0; i < tHs.getThemes().length; i++) {\n\t\t\t\t\t\tif (tHs.getThemes()[i].getName() == this.name) {\n\t\t\t\t\t\t\tconsole.error('A theme with the name ' + this.name + ' already exists!');\n\t\t\t\t\t\t\tdelete this;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tapply() {\n\t\t\t\t\tif (typeof this.store == 'object') {\n\t\t\t\t\t\tthis.csselem.disabled = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.csselem = tHs.genCSSFile(this.url, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdisable() {\n\t\t\t\t\tif (typeof this.store == 'object') {\n\t\t\t\t\t\tthis.csselem.disabled = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.csselem.remove();\n\t\t\t\t\t\tthis.csselem = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsetName(name) {\n\t\t\t\t\tthis.name = name;\n\t\t\t\t}\n\n\t\t\t\tgetName() {\n\t\t\t\t\treturn this.name;\n\t\t\t\t}\n\n\t\t\t\tgetURL() {\n\t\t\t\t\treturn this.url;\n\t\t\t\t}\n\n\t\t\t\tsetURL(url) {\n\t\t\t\t\tthis.url = url;\n\t\t\t\t}\n\n\t\t\t\tgetCSSElem() {\n\t\t\t\t\treturn this.csselem;\n\t\t\t\t}\n\n\t\t\t\tsetCSSElem(elem) {\n\t\t\t\t\tthis.csselem = elem;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twindow.tHs = new ThemeSystem();\n\n\t\t\tvar darkTheme = new Theme(document.getElementById('default-theme'), 'Abyss Default'); // this sucks\n\t\t\ttHs.addTheme(darkTheme);\n\t\t\ttHs.setActiveTheme(darkTheme);\n\n\t\t\tfunction themeSwitch(sel) {\n\t\t\t\ttHs.setActiveTheme(tHs.getThemeFromName(sel.value));\n\t\t\t\tdocument.querySelectorAll('select').forEach((e) => {\n\t\t\t\t\te.value = sel.value;\n\t\t\t\t});\n\t\t\t}\n\t\t\tfunction handleAutocomplete(data) {\n\t\t\t\tvar datalist = document.getElementById('autofill-results');\n\t\t\t\tdatalist.innerHTML = '';\n\t\t\t\tdata[1].forEach((element) => {\n\t\t\t\t\tvar option = document.createElement('option');\n\t\t\t\t\toption.value = element;\n\t\t\t\t\tdatalist.appendChild(option);\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst recordKeys = (elem, timeLimit) => {\n\t\t\t\tif (!elem) return;\n\t\t\t\telem.placeholder = 'Press a key...';\n\t\t\t\twindow.panicKeys = null;\n\t\t\t\tlet savePush = [];\n\t\t\t\tlet firstKeyHit = false;\n\t\t\t\tconst keydownHandler = (e) => {\n\t\t\t\t\tif (!firstKeyHit) {\n\t\t\t\t\t\tfirstKeyHit = true;\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tdocument.removeEventListener('keydown', keydownHandler);\n\t\t\t\t\t\t\twindow.panicKeys = savePush;\n\t\t\t\t\t\t}, timeLimit);\n\t\t\t\t\t}\n\t\t\t\t\tsavePush.push(e.key);\n\t\t\t\t\telem.placeholder = 'Selected Panic Keys: ' + savePush.join(' + ');\n\t\t\t\t};\n\t\t\t\tdocument.addEventListener('keydown', keydownHandler);\n\t\t\t};\n\t\t\tconst cloakTitle = (title) => {\n\t\t\t\tif (title.trim() == '') {\n\t\t\t\t\ttitle = 'Abyss';\n\t\t\t\t}\n\t\t\t\tdocument.title = title;\n\t\t\t\tlocalStorage.setItem('title', title);\n\t\t\t};\n\n\t\t\tlet savedFavicon;\n\t\t\tif (document.querySelector(\"link[rel*='icon']\")) {\n\t\t\t\tsavedFavicon = document.querySelector(\"link[rel*='icon']\").href;\n\t\t\t}\n\n\t\t\tconst cloakFavicon = (url) => {\n\t\t\t\tif (url.trim() == '') {\n\t\t\t\t\turl = savedFavicon;\n\t\t\t\t}\n\t\t\t\tlet link = document.querySelector(\"link[rel*='icon']\") || document.createElement('link');\n\t\t\t\tlink.type = 'image/x-icon';\n\t\t\t\tlink.rel = 'shortcut icon';\n\t\t\t\tlink.href = url;\n\t\t\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\n\t\t\t\tlocalStorage.setItem('favicon', url);\n\t\t\t};\n\n\t\t\tconst cloakURL = (url) => {\n\t\t\t\tif (url.trim() == '') {\n\t\t\t\t\turl = 'https://google.com';\n\t\t\t\t}\n\t\t\t\twindow.panicURL = url;\n\t\t\t\tlocalStorage.setItem('panicURL', url);\n\t\t\t};\n\n\t\t\twindow.panicURL = localStorage.getItem('panicURL') || 'https://google.com';\n\t\t\twindow.panicKeys = null;\n\n\t\t\t// record keys and when one happens, listen for another in quick succession, and if it matches the array, redirect to panicURL\n\t\t\tlet hitKeys = [];\n\t\t\tlet hitKeyRetention = false;\n\t\t\tconst keydownHandler = (e) => {\n\t\t\t\tif (window.panicKeys == null) return;\n\t\t\t\tif (!hitKeyRetention) {\n\t\t\t\t\thitKeyRetention = true;\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\thitKeyRetention = false;\n\t\t\t\t\t\thitKeys = [];\n\t\t\t\t\t}, 1000);\n\t\t\t\t}\n\t\t\t\thitKeys.push(e.key);\n\t\t\t\tif (hitKeys.length >= window.panicKeys.length) {\n\t\t\t\t\tlet hitKeysSet = new Set(hitKeys);\n\t\t\t\t\tlet panicKeysSet = new Set(window.panicKeys);\n\t\t\t\t\tif (\n\t\t\t\t\t\tnew Set([...hitKeysSet].filter((x) => panicKeysSet.has(x))).size === panicKeysSet.size\n\t\t\t\t\t) {\n\t\t\t\t\t\twindow.open(window.panicURL);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tdocument.addEventListener('keyup', keydownHandler);\n\n\t\t\tif (localStorage.getItem('title')) {\n\t\t\t\tdocument.title = localStorage.getItem('title');\n\t\t\t}\n\n\t\t\tif (localStorage.getItem('favicon')) {\n\t\t\t\tlet link = document.querySelector(\"link[rel*='icon']\") || document.createElement('link');\n\t\t\t\tlink.type = 'image/x-icon';\n\t\t\t\tlink.rel = 'shortcut icon';\n\t\t\t\tlink.href = localStorage.getItem('favicon');\n\t\t\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\n\t\t\t}\n\n\t\t\tconst updateGames = async () => {\n\t\t\t\t// TODO make this work\n\n\t\t\t\tawait fetch('/assets/games.json')\n\t\t\t\t\t.then((data) => data.json())\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tlet allButton = document.createElement('button');\n\t\t\t\t\t\tallButton.innerText = 'All';\n\t\t\t\t\t\tallButton.className = 'all';\n\t\t\t\t\t\tallButton.title = 'All';\n\t\t\t\t\t\tdocument.querySelector('.gameCategoryButtons').appendChild(allButton);\n\t\t\t\t\t\tfor (let i = 0; i < Object.keys(data).length; i++) {\n\t\t\t\t\t\t\tlet category = Object.keys(data)[i];\n\t\t\t\t\t\t\tlet categoryButton = document.createElement('button');\n\t\t\t\t\t\t\tcategoryButton.innerText = category;\n\t\t\t\t\t\t\tcategoryButton.className = category;\n\t\t\t\t\t\t\tcategoryButton.title = category;\n\t\t\t\t\t\t\tdocument.querySelector('.gameCategoryButtons').appendChild(categoryButton);\n\t\t\t\t\t\t\tfor (let j = 0; j < data[category].length; j++) {\n\t\t\t\t\t\t\t\tlet game = data[category][j];\n\t\t\t\t\t\t\t\tlet gameCard = createGameCard(game.name, game.image, game.url);\n\t\t\t\t\t\t\t\tgameCard.classList.add(category);\n\t\t\t\t\t\t\t\tdocument.querySelector('.gameCategories').appendChild(gameCard);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t};\n\n\t\t\tconst createGameCard = (name, image, url) => {\n\t\t\t\tlet gC = document.getElementById('abyssCardTemplate')?.cloneNode(true);\n\t\t\t\tgC.removeAttribute('id');\n\t\t\t\tgC.style.display = 'inline-block';\n\t\t\t\tgC.querySelector('img').setAttribute('src', image);\n\t\t\t\tgC.querySelector('img').setAttribute('alt', name);\n\t\t\t\tgC.querySelector('h1').innerText = name;\n\t\t\t\tgC.querySelector('a').href = url;\n\t\t\t\treturn gC;\n\t\t\t};\n\t\t</script>\n\t\t<div style=\"display: contents\">" + body + "</div>\n\t</body>\n</html>\n",
		error: ({ status, message }) => "<!DOCTYPE html>\n<html lang=\"en\">\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<title>" + message + "</title>\n\n\t\t<style>\n\t\t\tbody {\n\t\t\t\t--bg: white;\n\t\t\t\t--fg: #222;\n\t\t\t\t--divider: #ccc;\n\t\t\t\tbackground: var(--bg);\n\t\t\t\tcolor: var(--fg);\n\t\t\t\tfont-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n\t\t\t\t\tUbuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t.error {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tmax-width: 32rem;\n\t\t\t\tmargin: 0 1rem;\n\t\t\t}\n\n\t\t\t.status {\n\t\t\t\tfont-weight: 200;\n\t\t\t\tfont-size: 3rem;\n\t\t\t\tline-height: 1;\n\t\t\t\tposition: relative;\n\t\t\t\ttop: -0.05rem;\n\t\t\t}\n\n\t\t\t.message {\n\t\t\t\tborder-left: 1px solid var(--divider);\n\t\t\t\tpadding: 0 0 0 1rem;\n\t\t\t\tmargin: 0 0 0 1rem;\n\t\t\t\tmin-height: 2.5rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n\t\t\t.message h1 {\n\t\t\t\tfont-weight: 400;\n\t\t\t\tfont-size: 1em;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t@media (prefers-color-scheme: dark) {\n\t\t\t\tbody {\n\t\t\t\t\t--bg: #222;\n\t\t\t\t\t--fg: #ddd;\n\t\t\t\t\t--divider: #666;\n\t\t\t\t}\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div class=\"error\">\n\t\t\t<span class=\"status\">" + status + "</span>\n\t\t\t<div class=\"message\">\n\t\t\t\t<h1>" + message + "</h1>\n\t\t\t</div>\n\t\t</div>\n\t</body>\n</html>\n"
	},
	version_hash: "fuza4"
};

export function get_hooks() {
	return {};
}

export { set_assets, set_building, set_private_env, set_public_env };
